{"ast":null,"code":"import _asyncToGenerator from \"/Users/klaushougesen/_repos/consulting/lahi/github/duet-example-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n\n/*!\n * Built with Duet Design System\n */\nimport { r as registerInstance, h, g as getElement, H as Host } from './index-795979f3.js';\nimport { m as media_query_large, a as media_query_medium, b as media_query_small } from './tokens-e110dc89.js';\nimport { w as watchForOptions, a as watchForElement } from './watch-options-dd55bce8.js';\nimport { i as inheritGlobalTheme } from './themeable-component-572685dd.js';\nconst duetGridCss = \".sc-duet-grid-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;display:flex !important;flex-direction:column !important;align-items:flex-start !important;justify-content:flex-start !important;width:100%;max-width:100%;height:auto}@media (min-width: 36em){.duet-grid-breakpoint-small.sc-duet-grid-h{flex-direction:row !important}}@media (min-width: 48em){.duet-grid-breakpoint-medium.sc-duet-grid-h{flex-direction:row !important}}@media (min-width: 64.0625em){.duet-grid-breakpoint-x-large.sc-duet-grid-h{flex-direction:row !important}}.duet-grid-wrap.sc-duet-grid-h{flex-wrap:wrap !important}.duet-no-stacking.sc-duet-grid-h{flex-direction:row !important}.duet-grid-direction-vertical.duet-grid-breakpoint-small.sc-duet-grid-h{flex-direction:column !important}@media (min-width: 36em){.duet-grid-direction-vertical.duet-grid-breakpoint-small.sc-duet-grid-h{flex-direction:column !important}}.duet-grid-direction-vertical.duet-grid-breakpoint-medium.sc-duet-grid-h{flex-direction:column !important}@media (min-width: 48em){.duet-grid-direction-vertical.duet-grid-breakpoint-medium.sc-duet-grid-h{flex-direction:column !important}}.duet-grid-direction-vertical.duet-grid-breakpoint-x-large.sc-duet-grid-h{flex-direction:column !important}@media (min-width: 64.0625em){.duet-grid-direction-vertical.duet-grid-breakpoint-x-large.sc-duet-grid-h{flex-direction:column !important}}.duet-grid-align-top.duet-no-stacking.sc-duet-grid-h{align-items:flex-start !important}.duet-grid-align-bottom.duet-no-stacking.sc-duet-grid-h{align-items:flex-end !important}.duet-grid-align-center.duet-no-stacking.sc-duet-grid-h{align-items:center !important}.duet-grid-align-stretch.duet-no-stacking.sc-duet-grid-h{align-items:stretch !important}.duet-grid-align-baseline.duet-no-stacking.sc-duet-grid-h{align-items:baseline !important}@media (min-width: 36em){.duet-grid-align-top.duet-grid-breakpoint-small.sc-duet-grid-h{align-items:flex-start !important}}@media (min-width: 36em){.duet-grid-align-bottom.duet-grid-breakpoint-small.sc-duet-grid-h{align-items:flex-end !important}}@media (min-width: 36em){.duet-grid-align-center.duet-grid-breakpoint-small.sc-duet-grid-h{align-items:center !important}}@media (min-width: 36em){.duet-grid-align-stretch.duet-grid-breakpoint-small.sc-duet-grid-h{align-items:stretch !important}}@media (min-width: 36em){.duet-grid-align-baseline.duet-grid-breakpoint-small.sc-duet-grid-h{align-items:baseline !important}}@media (min-width: 48em){.duet-grid-align-top.duet-grid-breakpoint-medium.sc-duet-grid-h{align-items:flex-start !important}}@media (min-width: 48em){.duet-grid-align-bottom.duet-grid-breakpoint-medium.sc-duet-grid-h{align-items:flex-end !important}}@media (min-width: 48em){.duet-grid-align-center.duet-grid-breakpoint-medium.sc-duet-grid-h{align-items:center !important}}@media (min-width: 48em){.duet-grid-align-stretch.duet-grid-breakpoint-medium.sc-duet-grid-h{align-items:stretch !important}}@media (min-width: 48em){.duet-grid-align-baseline.duet-grid-breakpoint-medium.sc-duet-grid-h{align-items:baseline !important}}@media (min-width: 64.0625em){.duet-grid-align-top.duet-grid-breakpoint-x-large.sc-duet-grid-h{align-items:flex-start !important}}@media (min-width: 64.0625em){.duet-grid-align-bottom.duet-grid-breakpoint-x-large.sc-duet-grid-h{align-items:flex-end !important}}@media (min-width: 64.0625em){.duet-grid-align-center.duet-grid-breakpoint-x-large.sc-duet-grid-h{align-items:center !important}}@media (min-width: 64.0625em){.duet-grid-align-stretch.duet-grid-breakpoint-x-large.sc-duet-grid-h{align-items:stretch !important}}@media (min-width: 64.0625em){.duet-grid-align-baseline.duet-grid-breakpoint-x-large.sc-duet-grid-h{align-items:baseline !important}}.duet-grid-distribution-left.sc-duet-grid-h{justify-content:flex-start !important}.duet-grid-distribution-right.sc-duet-grid-h{justify-content:flex-end !important}.duet-grid-distribution-center.sc-duet-grid-h{justify-content:center !important}.duet-grid-distribution-between.sc-duet-grid-h{justify-content:space-between !important}.duet-grid-distribution-around.sc-duet-grid-h{justify-content:space-around !important}.duet-grid-distribution-evenly.sc-duet-grid-h{justify-content:space-evenly !important}@media (max-width: 35.9375em){.duet-grid-mobile-left.sc-duet-grid-h{align-items:flex-start !important;justify-content:flex-start !important;text-align:left !important}}@media (max-width: 35.9375em){.duet-grid-mobile-center.sc-duet-grid-h{align-items:center !important;justify-content:center !important;text-align:center !important}.duet-grid-mobile-center.sc-duet-grid-h *.sc-duet-grid{text-align:center !important}}@media (max-width: 35.9375em){.duet-grid-mobile-right.sc-duet-grid-h{align-items:flex-end !important;justify-content:flex-end !important;text-align:right !important}.duet-grid-mobile-right.sc-duet-grid-h *.sc-duet-grid{text-align:right !important}}\";\n\nfunction isGridItem(element) {\n  return element.tagName.toLowerCase() === \"duet-grid-item\";\n}\n\nlet DuetGrid = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.mql = [window.matchMedia(media_query_large.replace(/'/g, \"\")), window.matchMedia(media_query_medium.replace(/'/g, \"\")), window.matchMedia(media_query_small.replace(/'/g, \"\"))];\n    this.distributeFormElement = false;\n    /**\n     * Enable or disable the automatic responsive behaviour of the grid component.\n     * Setting this option to \"true\" makes sure that contents are stacked vertically\n     * on mobile (575px and under).\n     */\n\n    this.responsive = false;\n    /**\n     * Switch the breakpoint used to trigger the content stacking. These match to\n     * similar media query tokens: $media-query-small and $media-query-medium.\n     */\n\n    this.breakpoint = \"small\";\n    /**\n     * Direction of the grid items.\n     */\n\n    this.direction = \"horizontal\";\n    /**\n     * Adjusts the vertical alignment of the grid items, if set to \"form_distribute\"\n     * the grid will try to calculate correct paddings for any duet-input fields inside duet-grid-items,\n     * so that they align even when displaying errors.\n     */\n\n    this.alignment = \"top\";\n    /**\n     * Adjusts the horizontal distribution of the grid items.\n     */\n\n    this.distribution = \"default\";\n    /**\n     * Adjusts the horizontal alignment of the grid items on mobile (575px and under).\n     */\n\n    this.mobile = \"\";\n  }\n  /**\n   * Private functions\n   */\n\n  /**\n   * Returns the element height including margins\n   * @param element - element\n   * @returns {number}\n   */\n\n\n  outerHeight(element) {\n    const height = element.offsetHeight,\n          style = window.getComputedStyle(element);\n    return [\"top\", \"bottom\"].map(side => parseInt(style[`margin-${side}`])).reduce((total, side) => total + side, height);\n  }\n  /**\n   * Component lifecycle events.\n   */\n\n\n  connectedCallback() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const el = _this.element;\n      _this.distributeFormElement = _this.alignment === \"form_distribute\";\n      _this.mutationO = watchForOptions(el, \"duet-grid-item\", () => {\n        _this.updateGridItems();\n      }); // the next two functions are used to watch for changes in the grid items, and are process intensive - so only run when needed\n\n      if (_this.distributeFormElement) {\n        _this.mutation1 = watchForElement(el, \"duet-input\", () => {\n          _this.updateGridItemsWithInputFields();\n        }); // listen for potential mediaquery changes and reset layout\n\n        for (let i = 0; i < _this.mql.length; i++) {\n          // addEventListener is not available in Stencil hydrate\n          if (_this.mql[i].addEventListener) {\n            _this.mql[i].addEventListener(\"change\", _this.updateGridItemsWithInputFields.bind(_this));\n          }\n        }\n      }\n\n      _this.updateGridItems();\n    })();\n  }\n\n  disconnectedCallback() {\n    if (this.mutationO) {\n      this.mutationO.disconnect();\n      this.mutationO = undefined;\n    }\n\n    if (this.mutation1) {\n      this.mutation1.disconnect();\n      this.mutation1 = undefined;\n    } // listen for potential mediaquery changes and reset layout\n\n\n    for (let i = 0; i < this.mql.length; i++) {\n      // addEventListener is not available in Stencil hydrate\n      if (this.mql[i].removeEventListener) {\n        this.mql[i].removeEventListener(\"change\", this.updateGridItemsWithInputFields.bind(this));\n      }\n    }\n  }\n  /**\n   * Local methods\n   */\n\n\n  updateGridItems() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      const items = Array.from(_this2.element.children).filter(isGridItem);\n      items.forEach(item => {\n        item.responsive = _this2.responsive;\n        item.breakpoint = _this2.breakpoint;\n      });\n    })();\n  }\n\n  updateGridItemsWithInputFields() {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      const items = Array.from(_this3.element.children).filter(isGridItem); // if layout changes to columns instead of row, remove all padding\n\n      const hasColumnLayout = window ? window.getComputedStyle(_this3.element).flexDirection === \"column\" : false;\n      let maxHeight = 0;\n      const sizes = [];\n      items.forEach(item => {\n        const inputErrorDom = item.querySelector(\"span.duet-input-error\");\n        const height = inputErrorDom ? _this3.outerHeight(inputErrorDom) : 0;\n        sizes.push(height);\n      });\n      maxHeight = Math.max(...sizes);\n      items.forEach(item => {\n        const inputErrorDom = item.querySelector(\"span.duet-input-error\");\n        const height = inputErrorDom ? _this3.outerHeight(inputErrorDom) : 0;\n\n        if (height < maxHeight && !hasColumnLayout) {\n          item.setAttribute(\"style\", `padding-bottom: ${maxHeight - height}px;`);\n        } else if (height === maxHeight || hasColumnLayout) {\n          item.setAttribute(\"style\", `padding-bottom: 0px;`);\n        }\n      });\n    })();\n  }\n  /**\n   * render() function\n   * Always the last one in the class.\n   */\n\n\n  render() {\n    return h(Host, {\n      class: {\n        \"duet-grid\": true,\n        \"duet-no-stacking\": !this.responsive,\n        \"duet-grid-align-top\": this.alignment === \"top\",\n        \"duet-grid-align-bottom\": this.alignment === \"bottom\" || this.alignment === \"form_distribute\",\n        \"duet-grid-align-center\": this.alignment === \"center\",\n        \"duet-grid-align-stretch\": this.alignment === \"stretch\",\n        \"duet-grid-align-baseline\": this.alignment === \"baseline\",\n        \"duet-grid-distribution-left\": this.distribution === \"left\",\n        \"duet-grid-distribution-right\": this.distribution === \"right\",\n        \"duet-grid-distribution-center\": this.distribution === \"center\",\n        \"duet-grid-distribution-between\": this.distribution === \"space-between\",\n        \"duet-grid-distribution-around\": this.distribution === \"space-around\",\n        \"duet-grid-distribution-evenly\": this.distribution === \"space-evenly\",\n        \"duet-grid-mobile-left\": this.mobile === \"left\",\n        \"duet-grid-mobile-center\": this.mobile === \"center\",\n        \"duet-grid-mobile-right\": this.mobile === \"right\",\n        \"duet-grid-direction-horizontal\": this.direction === \"horizontal\",\n        \"duet-grid-direction-vertical\": this.direction === \"vertical\",\n        \"duet-grid-breakpoint-small\": this.breakpoint === \"small\",\n        \"duet-grid-breakpoint-medium\": this.breakpoint === \"medium\",\n        \"duet-grid-breakpoint-x-large\": this.breakpoint === \"x-large\"\n      }\n    });\n  }\n\n  get element() {\n    return getElement(this);\n  }\n\n  static get watchers() {\n    return {\n      \"responsive\": [\"updateGridItems\"],\n      \"breakpoint\": [\"updateGridItems\"]\n    };\n  }\n\n};\nDuetGrid.style = duetGridCss;\nconst duetGridItemCss = \".sc-duet-grid-item-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;margin-bottom:16px !important;min-width:0;max-width:100%;flex:0 0 auto;padding-right:8px;padding-left:8px;font-family:\\\"localtapiola-sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Helvetica, Arial, sans-serif, \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", \\\"Segoe UI Symbol\\\";font-size:1rem;font-style:normal;font-weight:400;line-height:1.5;color:#00294d}.sc-duet-grid-item-h:first-child,.sc-duet-grid-item-h:first-of-type{padding-left:0}.sc-duet-grid-item-h:last-child,.sc-duet-grid-item-h:last-of-type{padding-right:0}@media (max-width: 35.9375em){.duet-grid-item-responsive.sc-duet-grid-item-h{width:100% !important;min-width:0 !important;max-width:100% !important;padding-right:0;padding-left:0}}@media screen and (max-width: 47.9375em){.duet-grid-item-br-medium.sc-duet-grid-item-h{width:100% !important;min-width:0 !important;max-width:100% !important}}@media screen and (max-width: 47.9375em){.duet-grid-item-responsive.duet-grid-item-br-medium.sc-duet-grid-item-h{padding-right:0;padding-left:0}}@media screen and (max-width: 64em){.duet-grid-item-br-x-large.sc-duet-grid-item-h{width:100% !important;min-width:0 !important;max-width:100% !important}}@media screen and (max-width: 64em){.duet-grid-item-responsive.duet-grid-item-br-x-large.sc-duet-grid-item-h{padding-right:0;padding-left:0}}.duet-grid-item-fill.sc-duet-grid-item-h{flex:1 1 auto;width:100%}.duet-theme-turva.sc-duet-grid-item-h{font-family:\\\"turva-sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Helvetica, Arial, sans-serif, \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", \\\"Segoe UI Symbol\\\";color:#171c3a}.duet-m-0.sc-duet-grid-item-h{padding:0 !important;margin:0 !important}\";\nlet DuetGridItem = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    /**\n     * Make the grid item fill the remaining available grid space.\n     */\n\n    this.fill = false;\n    /**\n     * Theme of the grid item.\n     */\n\n    this.theme = \"\";\n    /**\n     * Controls the margin of the component.\n     */\n\n    this.margin = \"auto\";\n    /**\n     * @internal\n     * Enable or disable the automatic responsive behaviour of the grid item.\n     * This property is used internally by Grid, and should not be set by the developer.\n     */\n\n    this.responsive = false;\n    /**\n     * @internal\n     * Switch the breakpoint used to trigger the content stacking.\n     * This property is used internally by Grid, and should not be set by the developer.\n     */\n\n    this.breakpoint = \"small\";\n  }\n  /**\n   * Component lifecycle events.\n   */\n\n\n  componentWillLoad() {\n    inheritGlobalTheme(this);\n  }\n  /**\n   * render() function\n   * Always the last one in the class.\n   */\n\n\n  render() {\n    return h(Host, {\n      style: {\n        \"min-width\": this.minWidth,\n        \"max-width\": this.maxWidth\n      },\n      class: {\n        \"duet-m-0\": this.margin === \"none\",\n        \"duet-theme-turva\": this.theme === \"turva\",\n        \"duet-grid-item\": true,\n        \"duet-grid-item-fill\": this.fill,\n        \"duet-grid-item-responsive\": this.responsive,\n        \"duet-grid-item-br-medium\": this.breakpoint === \"medium\",\n        \"duet-grid-item-br-x-large\": this.breakpoint === \"x-large\"\n      }\n    });\n  }\n\n};\nDuetGridItem.style = duetGridItemCss;\nexport { DuetGrid as duet_grid, DuetGridItem as duet_grid_item };","map":null,"metadata":{},"sourceType":"module"}